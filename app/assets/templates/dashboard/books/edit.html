<div class='inner-header'>
  <div class='container pure-g'>
    <h2 class='pure-u-21-24' ng-bind='vm.book.title'></h2>
    <a class='pure-u-3-24 pure-button button-secondary'>预览</a>
  </div>
</div>

<div class='container pure-g'>
  <form name="edit_book_form" novalidate ng-submit="vm.submit()" class='pure-form pure-u-18-24'>
    <fieldset class="pure-group">
      <h2>书籍标题</h2>
      <input class='pure-input-1' type="text" placeholder="请在这里输入标题" name="title" ng-model="vm.book.title" required />
    </fieldset>
    <fieldset class="pure-group">
      <h2>书籍封面</h2>
      <div class='pure-u-1'>
        <div ng-file-drop ng-file-select ng-model='vm.cover' ng-file-change='vm.upload_cover(vm.cover)' drag-over-class="dragover" allow-dir="false" accept="image/*">
          <img ng-src='{{vm.book.cover.preview_url}}'></img>
        </div>
        <p>说明：上传的图片会被缩放为 130x169 大小用于展示，请尽量上传符合比例的封面图片。</p>
      </div>
    </fieldset>
    <fieldset class="pure-group">
      <h2>Git URL</h2>
      <input class='pure-input-1' type="text" readonly name="git_url" ng-model="vm.book.clone_url" required />
    </fieldset>
    <fieldset class="pure-group">
      <button class='pure-input-1 pure-button button-primary' type='submit'>保存设置</button>
    </fieldset>
  </form>

  <form name="delete_book_form" novalidate ng-submit="vm.delete()" class='pure-form pure-u-18-24'>
    <fieldset class="pure-group">
      <h2>删除</h2>
      <p>书籍删除后，不能恢复，请确认您是否已有备份，并谨慎操作。</p>
    </fieldset>
    <fieldset class="pure-group">
      <button class='pure-input-1-3 pure-button button-ghost-red' ng-click='vm.delete()'>删除</button>
    </fieldset>
  </form>
</div>
